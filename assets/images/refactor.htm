<!doctype html><html lang="en"><head><script defer src="https://cdn.optimizely.com/js/16180790160.js"></script><title data-rh="true">The 7 Code Refactoring Stages. You have wanted to refactor a very old… | by Mina Ayoub | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2018-09-10T04:01:33.664Z"/><meta data-rh="true" name="title" content="The 7 Code Refactoring Stages. You have wanted to refactor a very old… | by Mina Ayoub | Medium"/><meta data-rh="true" property="og:title" content="The 7 Code Refactoring Stages"/><meta data-rh="true" property="twitter:title" content="The 7 Code Refactoring Stages"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/bde886787fc"/><meta data-rh="true" property="al:android:url" content="medium://p/bde886787fc"/><meta data-rh="true" property="al:ios:url" content="medium://p/bde886787fc"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class naming, etc., the whole module is like a ragged man with an…"/><meta data-rh="true" property="og:description" content="You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class…"/><meta data-rh="true" property="twitter:description" content="You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class…"/><meta data-rh="true" property="og:url" content="https://medium.com/@mena.meseha/the-7-code-refactoring-stages-bde886787fc"/><meta data-rh="true" property="al:web:url" content="https://medium.com/@mena.meseha/the-7-code-refactoring-stages-bde886787fc"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/450/0*iko2AjXV65MfAVvJ"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/450/0*iko2AjXV65MfAVvJ"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://medium.com/@mena.meseha"/><meta data-rh="true" name="author" content="Mina Ayoub"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="5 min read"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" rel="preconnect" href="https://logx.optimizely.com"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@mena.meseha"/><link data-rh="true" rel="canonical" href="http://www.menameseha.com/blog/2010/05/29"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/bde886787fc"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F0*iko2AjXV65MfAVvJ"],"url":"https:\u002F\u002Fmedium.com\u002F@mena.meseha\u002Fthe-7-code-refactoring-stages-bde886787fc","dateCreated":"2010-05-29T08:00:25.000Z","datePublished":"2010-05-29T08:00:25.000Z","dateModified":"2018-09-10T16:11:23.241Z","headline":"The 7 Code Refactoring Stages - Mina Ayoub - Medium","name":"The 7 Code Refactoring Stages - Mina Ayoub - Medium","description":"You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class naming, etc., the whole module is like a ragged man with an…","identifier":"bde886787fc","author":{"@type":"Person","name":"Mina Ayoub","url":"https:\u002F\u002Fmedium.com\u002F@mena.meseha"},"creator":["Mina Ayoub"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fmedium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002F@mena.meseha\u002Fthe-7-code-refactoring-stages-bde886787fc"}</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="391" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="KEYFRAME">@-webkit-keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@-moz-keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@-webkit-keyframes k2{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-moz-keyframes k2{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@keyframes k2{0%{opacity:0;transform:translateY(-60px)}100%{opacity:1;transform:translateY(0px)}}@-webkit-keyframes k3{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@-moz-keyframes k3{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}@keyframes k3{0%{opacity:1;transform:translateY(0px)}100%{opacity:0;transform:translateY(-60px)}}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{margin-bottom:36px}.v{padding-top:8px}.w{width:100%}.ab{flex:0 0 auto}.ac{justify-self:flex-end}.ae{z-index:500}.af{visibility:hidden}.ag{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.ah{min-height:115px}.ak{flex-direction:column}.al{display:none}.an{white-space:nowrap}.ao{border-bottom:1px solid rgba(230, 230, 230, 1)}.ap{position:relative}.av{max-width:1192px}.aw{min-width:0}.ax{height:62px}.ay{flex-direction:row}.az{flex:1 0 auto}.ba{margin-right:16px}.bb{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bc{font-size:14px}.bd{line-height:20px}.be{color:rgba(26, 137, 23, 1)}.bf{padding:7px 16px 9px}.bg{background:0}.bh{fill:rgba(26, 137, 23, 1)}.bi{border-color:rgba(26, 137, 23, 1)}.bn:disabled{cursor:inherit !important}.bo:disabled{opacity:0.3}.bp:disabled:hover{color:rgba(26, 137, 23, 1)}.bq:disabled:hover{fill:rgba(26, 137, 23, 1)}.br:disabled:hover{border-color:rgba(26, 137, 23, 1)}.bs{border-radius:99em}.bt{border-width:1px}.bu{border-style:solid}.bv{box-sizing:border-box}.bw{display:inline-block}.bx{text-decoration:none}.by{margin-left:0px}.bz{color:rgba(117, 117, 117, 1)}.ca{font-size:inherit}.cb{border:inherit}.cc{font-family:inherit}.cd{letter-spacing:inherit}.ce{font-weight:inherit}.cf{padding:0}.cg{margin:0}.ch:disabled{cursor:default}.ci:disabled{color:rgba(163, 208, 162, 0.5)}.cj:disabled{fill:rgba(163, 208, 162, 0.5)}.ck{justify-content:space-between}.cq{align-items:flex-start}.cr{margin-bottom:0px}.cs{margin-top:-32px}.ct{align-items:flex-end}.cu{flex-wrap:wrap}.cx{margin-top:32px}.cy{margin-right:24px}.da{font-weight:500}.db{font-size:27px}.dc{line-height:34px}.dd:before{margin-bottom:-14px}.de:before{content:""}.df:before{display:table}.dg:before{border-collapse:collapse}.dh:after{margin-top:-6px}.di:after{content:""}.dj:after{display:table}.dk:after{border-collapse:collapse}.dl{letter-spacing:0}.dm{color:rgba(25, 25, 25, 1)}.dn{word-break:break-word}.do{margin-bottom:-3px}.dp{margin-left:14px}.dq{margin-top:-3px}.dr{padding-top:1px}.ds{height:70px}.dt{font-size:16px}.du{line-height:24px}.dv:before{margin-bottom:-10px}.dw{margin-right:12px}.dx{display:inline-flex}.dy{color:inherit}.dz{fill:inherit}.ec:disabled{color:rgba(117, 117, 117, 1)}.ed:disabled{fill:rgba(117, 117, 117, 1)}.ee{margin-left:12px}.ef{position:absolute}.eg{right:24px}.eh{margin:0px}.ei{border:0px}.ej{padding:0px}.ek{cursor:pointer}.el{stroke:rgba(117, 117, 117, 1)}.eo{left:0}.ep{opacity:0}.eq{position:fixed}.er{right:0}.es{top:0}.eu{height:60px}.ex{height:100%}.fa{margin-left:16px}.fg{margin-left:auto}.fh{margin-right:auto}.fi{max-width:728px}.fj{background:rgba(255, 255, 255, 1)}.fk{border:1px solid rgba(230, 230, 230, 1)}.fl{border-radius:4px}.fm{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.fn{max-height:100vh}.fo{overflow-y:auto}.fp{top:calc(100vh + 100px)}.fq{bottom:calc(100vh + 100px)}.fr{width:10px}.fs{pointer-events:none}.ft{word-wrap:break-word}.fu:after{display:block}.fv:after{clear:both}.fw{max-width:680px}.fx{line-height:1.23}.fy{font-style:normal}.fz{font-weight:700}.gu{margin-bottom:-0.27em}.gv{color:rgba(41, 41, 41, 1)}.gz{border-radius:50%}.ha{height:28px}.hb{width:28px}.hc{margin-left:8px}.hd{margin:0 4px}.he{margin:0 7px}.hn{margin:0 6px 0 7px}.ho{max-width:450px}.hp{margin-top:33px}.hq{clear:both}.hr{max-width:100%}.hs{height:auto}.ht{line-height:1.58}.hu{letter-spacing:-0.004em}.hv{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.iq{margin-bottom:-0.46em}.ir{line-height:1.12}.is{letter-spacing:-0.022em}.jl{margin-bottom:-0.28em}.jr{will-change:opacity}.js{width:188px}.jt{left:50%}.ju{transform:translateX(406px)}.jv{top:calc(65px + 54px + 14px)}.jy{will-change:opacity, transform}.jz{transform:translateY(159px)}.kb{width:197px}.kc{margin-bottom:20px}.kd{padding-bottom:5px}.ke{padding-top:2px}.kf{padding-top:20px}.kg{color:rgba(255, 255, 255, 1)}.kh{fill:rgba(255, 255, 255, 1)}.ki{background:rgba(26, 137, 23, 1)}.kk:disabled:hover{background:rgba(26, 137, 23, 1)}.kl{stroke:rgba(242, 242, 242, 1)}.km{height:36px}.kn{width:36px}.ko{color:rgba(242, 242, 242, 1)}.kp{fill:rgba(242, 242, 242, 1)}.kq{background:rgba(242, 242, 242, 1)}.kr{border-color:rgba(242, 242, 242, 1)}.kx{padding-top:32px}.ky{border-top:1px solid rgba(230, 230, 230, 1)}.kz{justify-content:space-evenly}.la{margin-right:20px}.lg{-webkit-user-select:none}.lh{outline:0}.li{border:0}.lj{user-select:none}.lk> svg{pointer-events:none}.lv button{text-align:left}.lw{margin-top:2px}.lx{fill:rgba(61, 61, 61, 1)}.ly{opacity:1}.lz{margin-top:1px}.ma{margin-top:40px}.mb{padding-bottom:25px}.mc{margin-top:25px}.md{max-width:155px}.mk{top:1px}.mn{margin-left:24px}.mo{margin-top:4px}.mp{padding-bottom:40px}.mq{list-style-type:none}.mr{margin-right:8px}.ms{margin-bottom:8px}.mt{font-size:13px}.mu{line-height:22px}.mv{border-radius:3px}.mw{padding:5px 10px}.mx{padding-top:40px}.my{padding-bottom:4px}.mz{background-color:rgba(250, 250, 250, 1)}.np{overflow:hidden}.nq{text-overflow:ellipsis}.nr{display:-webkit-box}.ns{-webkit-line-clamp:2}.nt{-webkit-box-orient:vertical}.nv{padding-top:5px}.nw{padding-top:25px}.bj:hover{color:rgba(15, 115, 12, 1)}.bk:hover{fill:rgba(15, 115, 12, 1)}.bl:hover{border-color:rgba(15, 115, 12, 1)}.bm:hover{cursor:pointer}.ea:hover{color:rgba(25, 25, 25, 1)}.eb:hover{fill:rgba(25, 25, 25, 1)}.kj:hover{background:rgba(15, 115, 12, 1)}.ks:hover{background:rgba(242, 242, 242, 1)}.kt:hover{border-color:rgba(242, 242, 242, 1)}.ku:hover{cursor:wait}.kv:hover{color:rgba(242, 242, 242, 1)}.kw:hover{fill:rgba(242, 242, 242, 1)}.ln:hover{fill:rgba(117, 117, 117, 1)}.lm:focus{fill:rgba(117, 117, 117, 1)}.ll:active{border-style:none}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.x{display:flex}.au{margin:0 64px}.ff{padding:0 16px}.gq{font-size:46px}.gr{margin-top:0.6em}.gs{line-height:56px}.gt{letter-spacing:-0.011em}.hl{margin-left:30px}.im{font-size:21px}.in{margin-top:2em}.io{line-height:32px}.ip{letter-spacing:-0.003em}.jh{font-size:30px}.ji{margin-top:1.95em}.jj{line-height:36px}.jk{letter-spacing:0}.jq{margin-top:0.86em}.lf{margin-right:5px}.lu{margin-top:0px}.mj{margin-top:5px}.mm{display:inline-block}.nm{font-size:20px}.nn{line-height:24px}.no{max-height:48px}.ob{margin:0}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.hk{margin-left:30px}.lt{margin-top:0px}.mi{margin-top:5px}.ml{display:inline-block}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.hj{margin-left:30px}.ls{margin-top:0px}.mg{display:inline-block}.mh{margin-top:5px}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.u{margin-bottom:20px}.ai{box-shadow:inset 0 -1px 0 rgba(230, 230, 230, 1)}.aj{min-height:230px}.am{display:block}.cl{min-height:98px}.cm{display:flex}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:flex-end}.cv{margin-bottom:28px}.cw{margin-top:0px}.cz{margin-top:28px}.em{border-top:1px solid rgba(230, 230, 230, 1)}.en{border-bottom:1px solid rgba(230, 230, 230, 1)}.ey{align-items:center}.ez{flex:1 0 auto}.gx{margin-top:32px}.gy{flex-direction:column-reverse}.hh{margin-bottom:30px}.hi{margin-left:0px}.lq{margin-top:2px}.lr{margin-right:16px}.mf{display:inline-block}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.aq{margin:0 24px}.ev{display:block}.fb{padding:0 8px 24px 8px}.ga{font-size:32px}.gb{margin-top:0.64em}.gc{line-height:40px}.gd{letter-spacing:-0.016em}.gw{margin-top:32px}.hf{margin-bottom:30px}.hg{margin-left:0px}.hw{font-size:18px}.hx{margin-top:1.56em}.hy{line-height:28px}.hz{letter-spacing:-0.003em}.it{font-size:22px}.iu{margin-top:1.2em}.iv{letter-spacing:0}.jm{margin-top:0.67em}.lb{margin-left:8px}.lo{margin-top:2px}.lp{margin-right:16px}.me{display:inline-block}.na{font-size:16px}.nb{line-height:20px}.nc{max-height:40px}.nx{margin:0}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.y{display:flex}.at{margin:0 64px}.fe{padding:0 16px}.gm{font-size:46px}.gn{margin-top:0.6em}.go{line-height:56px}.gp{letter-spacing:-0.011em}.ii{font-size:21px}.ij{margin-top:2em}.ik{line-height:32px}.il{letter-spacing:-0.003em}.jd{font-size:30px}.je{margin-top:1.95em}.jf{line-height:36px}.jg{letter-spacing:0}.jp{margin-top:0.86em}.le{margin-right:5px}.nj{font-size:20px}.nk{line-height:24px}.nl{max-height:48px}.oa{margin:0}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.z{display:flex}.as{margin:0 48px}.fd{padding:0 16px}.gi{font-size:46px}.gj{margin-top:0.6em}.gk{line-height:56px}.gl{letter-spacing:-0.011em}.ie{font-size:21px}.if{margin-top:2em}.ig{line-height:32px}.ih{letter-spacing:-0.003em}.iz{font-size:30px}.ja{margin-top:1.95em}.jb{line-height:36px}.jc{letter-spacing:0}.jo{margin-top:0.86em}.ld{margin-right:5px}.ng{font-size:20px}.nh{line-height:24px}.ni{max-height:48px}.nz{margin:0}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ar{margin:0 24px}.ew{display:block}.fc{padding:0 8px 24px 8px}.ge{font-size:32px}.gf{margin-top:0.64em}.gg{line-height:40px}.gh{letter-spacing:-0.016em}.ia{font-size:18px}.ib{margin-top:1.56em}.ic{line-height:28px}.id{letter-spacing:-0.003em}.iw{font-size:22px}.ix{margin-top:1.2em}.iy{letter-spacing:0}.jn{margin-top:0.67em}.lc{margin-left:8px}.nd{font-size:16px}.ne{line-height:20px}.nf{max-height:40px}.ny{margin:0}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="print">.hm{display:none}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.et{animation:k3 .2s ease-in-out both}.jw{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 1230px)">.jx{display:none}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="all and (max-width: 1240px)">.ka{display:none}</style><style type="text/css" data-fela-rehydration="391" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.nu{max-height:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="s"><div class="t s u"><div class="ag ah s ai aj"><div class="n ak"><div class="al am"><div class="ao s ap ae"><div class="n p"><div class="aq ar as at au av aw w"><div class="ax n o"><div class="n o ay az"><div><div class="ba s"><span><button class="bb b bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw bx">Get started</button></span></div></div><div class="an"><div><div class="by al am"><span class="bb b bc bd bz"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbde886787fc&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderUser&amp;%7Estage=mobileNavBar&amp;source=post_page-----bde886787fc-----------------------------------" class="be bh ca cb cc cd ce cf cg bm bj bk ch ci cj" rel="noopener follow">Open in app</a></span></div></div></div></div><a href="https://medium.com/?source=post_page-----bde886787fc-----------------------------------" aria-label="Homepage" rel="noopener follow"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div><div class="n p"><div class="aq ar as at au av aw w"><div class="ah n o ay ck cl cm cn co cp"><div class="w n cq ck"><div class="v n w"><div class="cr cs w n ct ay cu cv cw cm cn co"><div class="cx cy s cz"><a aria-label="Author Homepage" rel="noopener follow" href="/@mena.meseha?source=post_page-----bde886787fc-----------------------------------"><span class="bb da db dc dd de df dg dh di dj dk dl dm dn">Mina Ayoub</span></a></div></div></div><div class="x y z k h ab ac o ae af"><div><p class="bb b bc bd bz"><span><a class="be bh ca cb cc cd ce cf cg bm bj bk ch ci cj" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;source=post_page-----bde886787fc---------------------nav_reg--------------">Sign in</a></span></p></div><div><div class="do dp dq cy s"><span><button class="bb b bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw bx">Get started</button></span></div></div><a href="https://medium.com/?source=post_page-----bde886787fc-----------------------------------" aria-label="Homepage" rel="noopener follow"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div></div><div class="s"><div class="n p"><div class="aq ar as at au av aw w"><div><div class="dr ds n o"><div class="s"><span class="bb b dt du dv de df dg dh di dj dk bz"><div class="n o"><div class="dw dx ak"><span class="bb b bc bd bz"><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/@mena.meseha/followers?source=post_page-----bde886787fc-----------------------------------">789 Followers</a></span></div><div class="s h"></div><div class="s h"></div><div class="ee n ak h"><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/@mena.meseha/about?source=post_page-----bde886787fc-----------------------------------">About</a></div></div></span></div><div class="al ef eg am"><button class="n o p eh ei ej ek" aria-label="Expand navbar"><svg width="14" height="14" class="el"><path d="M0 .5h14M0 7h14M0 13.5h14"></path></svg></button></div></div></div></div></div></div></div><div class="em en c eo ep eq er es af ae et"><div class="n p"><div class="aq ar as at au av aw w"><div class="eu w ev ew j i d es ae"><div class="ex n o"><div class="al cm ey ez"><div><span><button class="bb b bc bd be bf bg bh bi bj bk bl bm bn bo bp bq br bs bt bu bv bw bx">Get started</button></span></div><div><div class="fa al am"><span class="bb b bc bd bz"><a href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fbde886787fc&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderUser&amp;%7Estage=mobileNavBar&amp;source=post_page-----bde886787fc-----------------------------------" class="be bh ca cb cc cd ce cf cg bm bj bk ch ci cj" rel="noopener follow">Open in app</a></span></div></div></div><a href="https://medium.com/?source=post_page-----bde886787fc-----------------------------------" aria-label="Homepage" rel="noopener follow"><svg viewBox="0 0 1043.63 592.71" class="q r"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a></div></div></div></div></div></div><article><section class="fb fc fd fe ff fg fh w fi bv s"></section><span class="s"></span><div><div><div class="ef eo fp fq fr fs"></div><section class="dn ft fu di fv"><div class="n p"><div class="aq ar as at au fw aw w"><div class=""><h1 id="258b" class="fx dl fy bb fz ga gb gc gd ge gf gg gh gi gj gk gl gm gn go gp gq gr gs gt gu gv">The 7 Code Refactoring Stages</h1><div class="cx"><div class="n ck gw gx gy"><div class="o n"><div><a rel="noopener follow" href="/@mena.meseha?source=post_page-----bde886787fc-----------------------------------"><img alt="Mina Ayoub" class="s gz ha hb" src="https://miro.medium.com/fit/c/56/56/1*RtzM_wVc4f75v3HVQsZX-g.jpeg" width="28" height="28"/></a></div><div class="hc w n cu"><div class="n"><div style="flex:1"><span class="bb b bc bd gv"><a class="" rel="noopener follow" href="/@mena.meseha?source=post_page-----bde886787fc-----------------------------------"><p class="bb b bc bd be">Mina Ayoub</p></a></span></div></div><span class="bb b bc bd bz"><a class="" rel="noopener follow" href="/@mena.meseha/the-7-code-refactoring-stages-bde886787fc?source=post_page-----bde886787fc-----------------------------------"><p class="bb b bc bd bz"><span class="hd"></span><span>May 29, 2010</span><span class="he">·</span>5 min read</p></a></span></div></div><div class="n ct hf hg hh hi hj hk hl hm"><div class="n o"><div class="bw" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bw" role="tooltip" aria-hidden="false"><button class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div><div class="hn s"></div></div></div></div></div></div><figure class="hp hq fg fh paragraph-image"><div class="fg fh ho"><img alt="" class="w hr hs" src="https://miro.medium.com/max/900/0*iko2AjXV65MfAVvJ" width="450" height="333" role="presentation"/></div></figure><p id="9f37" class="ht hu fy hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq dn gv">You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class naming, etc., the whole module is like a ragged man with an ankle, although it can go, but it has been very uncomfortable. In the face of this situation, the real programmers will not admit defeat, they will accept the challenge and analyze carefully, even if rewriting is not hesitating. In the end, that module will be refactored by them.</p><h1 id="bfeb" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 1 — Despair</strong></h1><p id="a6de" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">Before you start<span id="rmm"><span id="rmm"> </span></span>to look at the modules you want to refactor, you will feel as if it is very simple. You need to change a class here. You need to change two or three functions, and rewrite several functions. It looks like no big deal, one or two. The day is fixed. So you set out to start refactoring, and then when you tweaked and refactored some code, such as changing some naming, fixing some logic, gradually, you will find that this monster is so large, you will see that the code does not match or even vague Unclear comments, completely confusing data structures, and some seemingly no need to be tuned several times, you will also find that you can’t figure out the logic on a function call chain. You feel that this thing may not work for a week, and you are beginning to despair.</p><h1 id="9b3c" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 2 — Find the easiest to do</strong></h1><p id="29bd" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">You admit that the module you are refactoring is a terrible monster, you can do it in one or two, so you start doing some simple things, such as renaming a few functions, removing some code hindrance, and generating A few constants to eliminate the magic number, etc., you know that doing this will at least not make the code worse.</p><h1 id="4aaa" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 3 — Despair again</strong></h1><p id="bca8" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">But the next thing will make you hit the wall again. You will find that the flaws in those codes are something that is not painful. Correcting these things is totally helpless. What you should do is to rewrite everything. But you don’t have time to do this, and the code is not messy and messy, too much coupling, so that you are desperate again. So, you can only partially rewrite parts that don’t take too much time, so that at least these old code can be reused more. Although not perfect, but at least try.</p><h1 id="5a7f" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 4 — Start optimism</strong></h1><p id="3fb9" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">After you tried to partially refactor this module for a few days, after refactoring several units, although you found that the progress of improving the code was too slow, at this point, you already know what the code should be changed to. You also locked in those modified classes after the pain. Yes, although your time budget has been overrun, although there are more things to do, you are still full of hope and feel that it is worth it. The fire in your chest was ignited again.</p><h1 id="2e0e" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 5 — Quick knot</strong></h1><p id="cee2" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">At this time, you find that you have spent too much time, and the situation is getting more and more complicated. You feel that the situation you are facing is getting more and more uneasy, and you understand that you are already in trouble. You thought you only needed a simple refactoring, but now you have to face everything that is rewritten. You start to realize that the reason is because you are a perfectionist and you want the code to be perfect. So you start to slow down your documentation and want to find a shortcut to rewrite the old code, you start to adopt some simple and rude, fast and a bit dirty way. Although not perfect, you just did it. Then, you start running the test to do UT, and you find that the UT report is all red, almost all failed, you panic, so quickly fix the code, and then let UT work. At this point, you patted your chest and said, no problem, so I submitted the code.</p><h1 id="cf00" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 6 — Modify a large number of bugs</strong></h1><p id="5c2b" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">Your rewrite is not perfect, although it has passed the test, but those UT tests are a little inappropriate for your new code, although they have not reported an error, but their test range is too small, not covering all situations And borders. So, after that, it will take a few weeks or more to fix more and more bugs, which makes your design and code become more and more ugly after every quick-fix. At this point, the code is not as perfect as you would expect, but you still think he is better than the beginning. This phase can take several months.</p><h1 id="8686" class="ir is fy bb da it iu hy iv iw ix ic iy iz ja jb jc jd je jf jg jh ji jj jk jl gv"><strong class="ce">Stage 7 — Awareness</strong></h1><p id="bd99" class="ht hu fy hv b hw jm hy hz ia jn ic id ie jo ig ih ii jp ik il im jq io ip iq dn gv">After 6 months, the module you rewrote has a more serious bug. This makes the module you refactored even more embarrassing. The problem you found was inconsistent with the original design. You also found that the old code that was refactored by you was not as bad as it was originally. The old code did take into account some things you have not considered. thing. At this time, someone on your team stood up and said that the module should be refactored or rewritten, but you don’t say a word, and hope that the person who stood up will be able to realize it in a few months.</p><p id="ab27" class="ht hu fy hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq dn gv">I don’t know if this is your experience. I have experienced this many times. For many maintenance projects, the mistakes I made made me a real conservative. I almost didn’t dare to move, even if I saw the code is very unpleasant. Of course, agile consultants who have never written code will say that using TDD or UT can make your refactoring more efficient and easier, because it will make them look more valuable, but I want to tell you this. It’s irresponsible to say that it’s not responsible. It’s like saying that <strong class="hv fz">I had some troubles when I was killing pigs because I didn’t know the physiological structure of the pig, or it was a deformed pig that caused me to kill. The pig is hard to see, and the great agile consultant told me to use a faster and more beautiful knife</strong> . Software development is never a simple matter, and killing pigs is the same.</p></div></div></section></div></div></article><div class="ep fs eq jy w jz es jw ka" data-test-id="post-sidebar"><div class="n p"><div class="aq ar as at au av aw w"><div class="kb n ak"><div class="fs"><div><div class="kc s"><div class="kd s"><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/@mena.meseha?source=post_sidebar--------------------------post_sidebar--------------"><h2 class="bb da dt bd dl gv dn">Mina Ayoub</h2></a></div><div class="ke s"><p class="bb b bc bd bz">I&#x27;m enthusiastic about being part of something greater than myself and learning from more experienced people every time I meet them.</p></div><div class="kf n"><span><button class="bb b bc bd kg bf kh ki bi kj bl bm bn bo kk br bs bt bu bv bw bx">Follow</button></span><div class="hc s"><div><div><div class="bw" role="tooltip" aria-hidden="false"><div class="s"><span><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe214a0d88c02&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;newsletterV3=a7eb0e304f8a&amp;newsletterV3Id=e214a0d88c02&amp;user=Mina+Ayoub&amp;userId=a7eb0e304f8a&amp;source=post_sidebar-----bde886787fc---------------------subscribe_user--------------"><button class="bb b bc bd ko cf kp kq kr ks kt ku kv kw bn bo kk br bs bt bu bv bw bx" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="kl km kn"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25" stroke-width="0.5"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)" stroke-width="0.5"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5" stroke-linecap="round"></path><path d="M11.5 14.5L19 20l4-3" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div></div><div class="kx ky w n o ay kz"><div class="la n"><div class="n o ay"><div class="ap lb lc ld le lf lg"><span><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fbde886787fc&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;user=Mina+Ayoub&amp;userId=a7eb0e304f8a&amp;source=post_sidebar-----bde886787fc---------------------clap_sidebar--------------"><div class="cf lh li lj ek lk ll lg r lm ln"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s lo lp lq lr ls lt lu"><div class="lv"><p class="bb b bc bd bz"><button class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed">31<!-- --> </button></p></div></div></div></div><div class="lw la s"><div class="n"><button class="ek li cf"><div class="n o ay"><div class="n o"><div><div class="bw" role="tooltip" aria-hidden="false"><svg width="25" height="25" aria-label="responses" class="lx ly ek ln"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></div></div></div></div></button></div></div><div class="lz s"></div></div></div></div></div></div></div></div><div class="ep fs jr eq js jt ju jv jw jx"></div><div><div class="ma hq n ak p"><div class="n p"><div class="aq ar as at au fw aw w"><div class="n cu"></div><div class="n o cu"></div><div class="mb mc s"><div class="n ck hm"><div class="n o ay"><div class="md s"><span class="s me mf mg e d"><div class="n o ay"><div class="ap lb lc ld le lf lg"><span><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fbde886787fc&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;user=Mina+Ayoub&amp;userId=a7eb0e304f8a&amp;source=post_actions_footer-----bde886787fc---------------------clap_footer--------------"><div class="cf lh li lj ek lk ll lg r lm ln"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s lo lp lq lr mh mi mj"><div class="ap mk lv"><p class="bb b bc bd gv"><button class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed">31<span class="s h g f ml mm"> </span></button><span class="s h g f ml mm"></span></p></div></div></div></span><span class="s h g f ml mm"><div class="n o ay"><div class="ap lb lc ld le lf lg"><span><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2Fbde886787fc&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;user=Mina+Ayoub&amp;userId=a7eb0e304f8a&amp;source=post_actions_footer-----bde886787fc---------------------clap_footer--------------"><div class="cf lh li lj ek lk ll lg r lm ln"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s lo lp lq lr mh mi mj"><div class="lv"><p class="bb b bc bd gv"><button class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed">31<!-- --> </button></p></div></div></div></span></div><div class="mn n"><div class="n"><button class="ek li cf"><div class="n o ay"><div class="n o"><div><div class="bw" role="tooltip" aria-hidden="false"><svg width="29" height="29" aria-label="responses" class="lx ly ek ln mo"><path d="M21.27 20.06a9.04 9.04 0 0 0 2.75-6.68C24.02 8.21 19.67 4 14.1 4S4 8.21 4 13.38c0 5.18 4.53 9.39 10.1 9.39 1 0 2-.14 2.95-.41.28.25.6.49.92.7a7.46 7.46 0 0 0 4.19 1.3c.27 0 .5-.13.6-.35a.63.63 0 0 0-.05-.65 8.08 8.08 0 0 1-1.29-2.58 5.42 5.42 0 0 1-.15-.75zm-3.85 1.32l-.08-.28-.4.12a9.72 9.72 0 0 1-2.84.43c-4.96 0-9-3.71-9-8.27 0-4.55 4.04-8.26 9-8.26 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32a5.59 5.59 0 0 0 .21 1.29c.19.7.49 1.4.89 2.08a6.43 6.43 0 0 1-2.67-1.06c-.34-.22-.88-.48-1.16-.74z"></path></svg></div></div></div></div></button></div></div></div><div class="n o"><div class="bw" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bw" role="tooltip" aria-hidden="false"><button class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post"><svg width="25" height="25" class="r"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div></div><div class="hn s ab"></div></div></div></div><div class="mp mc s"><ul class="cf cg"><li class="bw mq mr ms"><a href="/tag/software-development" class="bb b mt mu bz mv mw bx s kq">Software Development</a></li><li class="bw mq mr ms"><a href="/tag/refactoring" class="bb b mt mu bz mv mw bx s kq">Refactoring</a></li><li class="bw mq mr ms"><a href="/tag/code" class="bb b mt mu bz mv mw bx s kq">Code</a></li><li class="bw mq mr ms"><a href="/tag/despair" class="bb b mt mu bz mv mw bx s kq">Despair</a></li><li class="bw mq mr ms"><a href="/tag/bugs" class="bb b mt mu bz mv mw bx s kq">Bugs</a></li></ul></div><div class="mx s"></div></div></div><div><div class="n p"><div class="aq ar as at au fw aw w"></div></div><div class="s hm"><div class="my kx s mz"><div class="n p"><div class="aq ar as at au fw aw w"><div class="n o ck"><h2 class="bb da na nb nc iv nd ne nf iy ng nh ni jc nj nk nl jg nm nn no jk np nq nr ns nt nu gv"><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/@mena.meseha?source=follow_footer-----bde886787fc-----------------------------------">More from Mina Ayoub</a></h2><div class="hc n"><span><button class="bb b bc bd kg bf kh ki bi kj bl bm bn bo kk br bs bt bu bv bw bx">Follow</button></span><div class="hc s"><div><div><div class="bw" role="tooltip" aria-hidden="false"><div class="s"><span><a class="dy dz ca cb cc cd ce cf cg bm ea eb ch ec ed" rel="noopener follow" href="/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fe214a0d88c02&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2F%40mena.meseha%2Fthe-7-code-refactoring-stages-bde886787fc&amp;newsletterV3=a7eb0e304f8a&amp;newsletterV3Id=e214a0d88c02&amp;user=Mina+Ayoub&amp;userId=a7eb0e304f8a&amp;source=follow_footer-----bde886787fc---------------------subscribe_user--------------"><button class="bb b bc bd ko cf kp kq kr ks kt ku kv kw bn bo kk br bs bt bu bv bw bx" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="kl km kn"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25" stroke-width="0.5"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)" stroke-width="0.5"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5" stroke-linecap="round"></path><path d="M11.5 14.5L19 20l4-3" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div></div><div class="nv s"><p class="bb b bc bd bz">I&#x27;m enthusiastic about being part of something greater than myself and learning from more experienced people every time I meet them.</p></div></div></div></div></div><div class="nw s mz hm"><div class="n p"><div class="nx ny nz oa ob hr aw w"></div></div></div><div class="s fj hm"><div class="n p"><div class="aq ar as at au av aw w"></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20211211-005245-682911e732"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"auroraPage":{"isAuroraPageEnabled":true},"bookReader":{"assets":{},"reader":{"currentAsset":null,"currentGFI":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":false,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-bde886787fc","user-a7eb0e304f8a"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[]},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"a0214ff1-fe48-4e17-bd71-a020cfff2d78","hybridDevServices":[],"showBookReaderDebugger":false,"originalSpanCarrier":{"ot-tracer-spanid":"475f51a504f9bfd6","ot-tracer-traceid":"af31e8ca335e1b1","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002F@mena.meseha\u002Fthe-7-code-refactoring-stages-bde886787fc","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"queryString":"","currentHash":""},"tracing":{},"userOnboarding":{"showFirstBookPurchaseTooltip":false},"config":{"nodeEnv":"production","version":"main-20211211-005245-682911e732","isTaggedVersion":false,"isMediumDotApp":false,"isMediumDotAppVariant":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20211211-005245-682911e732","disableClientReporting":true},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20211211-005245-682911e732","commit":"682911e73286f251cce6579862a06648d0e65a3c"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR"},"publicKey":"cwr8xtycwgjryv82","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyWithTrial":"d5ee3dbe3db8","yearly":"a40ad4a43185","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06"},"3DSecureVersion":"2"},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","meterPost({\"postId\":\"bde886787fc\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\",\"sk\":null,\"source\":null}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"bde886787fc\"})":{"__ref":"Post:bde886787fc"}},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":0},"User:a7eb0e304f8a":{"id":"a7eb0e304f8a","__typename":"User","name":"Mina Ayoub","username":"mena.meseha","newsletterV3":{"__ref":"NewsletterV3:e214a0d88c02"},"customStyleSheet":null,"isSuspended":false,"bio":"I'm enthusiastic about being part of something greater than myself and learning from more experienced people every time I meet them.","imageId":"1*RtzM_wVc4f75v3HVQsZX-g.jpeg","hasCompletedProfile":false,"isAuroraVisible":true,"mediumMemberAt":0,"socialStats":{"__typename":"SocialStats","followerCount":789,"followingCount":37,"collectionFollowingCount":2},"customDomainState":null,"hasSubdomain":false,"bookAuthor":null,"isPartnerProgramEnrolled":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:a7eb0e304f8a-viewerId:lo_6bfcfb4d4d4d"},"viewerIsUser":false,"homepagePostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:5b63bbfcd7d9"}]},"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"replyToEmailBannerShownCount":0,"twitterScreenName":"","followedCollections":3,"referredMembershipCustomHeadline":"","referredMembershipCustomBody":"","atsQualifiedAt":1612205437465},"UserViewerEdge:userId:a7eb0e304f8a-viewerId:lo_6bfcfb4d4d4d":{"id":"userId:a7eb0e304f8a-viewerId:lo_6bfcfb4d4d4d","__typename":"UserViewerEdge","isFollowing":false,"isUser":false},"NewsletterV3:e214a0d88c02":{"id":"e214a0d88c02","__typename":"NewsletterV3","type":"NEWSLETTER_TYPE_AUTHOR","slug":"a7eb0e304f8a","name":"a7eb0e304f8a","collection":null,"user":{"__ref":"User:a7eb0e304f8a"},"description":"","promoHeadline":"","promoBody":"","replyToEmail":"","showPromo":false,"subscribersCount":3},"Post:5b63bbfcd7d9":{"id":"5b63bbfcd7d9","__typename":"Post"},"Paragraph:678d93a01c5d_0":{"id":"678d93a01c5d_0","__typename":"Paragraph","name":"258b","text":"The 7 Code Refactoring Stages","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_1":{"id":"678d93a01c5d_1","__typename":"Paragraph","name":"7388","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*iko2AjXV65MfAVvJ"},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_2":{"id":"678d93a01c5d_2","__typename":"Paragraph","name":"9f37","text":"You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class naming, etc., the whole module is like a ragged man with an ankle, although it can go, but it has been very uncomfortable. In the face of this situation, the real programmers will not admit defeat, they will accept the challenge and analyze carefully, even if rewriting is not hesitating. In the end, that module will be refactored by them.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_3":{"id":"678d93a01c5d_3","__typename":"Paragraph","name":"bfeb","text":"Stage 1 — Despair","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":17,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_4":{"id":"678d93a01c5d_4","__typename":"Paragraph","name":"a6de","text":"Before you start to look at the modules you want to refactor, you will feel as if it is very simple. You need to change a class here. You need to change two or three functions, and rewrite several functions. It looks like no big deal, one or two. The day is fixed. So you set out to start refactoring, and then when you tweaked and refactored some code, such as changing some naming, fixing some logic, gradually, you will find that this monster is so large, you will see that the code does not match or even vague Unclear comments, completely confusing data structures, and some seemingly no need to be tuned several times, you will also find that you can’t figure out the logic on a function call chain. You feel that this thing may not work for a week, and you are beginning to despair.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_5":{"id":"678d93a01c5d_5","__typename":"Paragraph","name":"9b3c","text":"Stage 2 — Find the easiest to do","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":32,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_6":{"id":"678d93a01c5d_6","__typename":"Paragraph","name":"29bd","text":"You admit that the module you are refactoring is a terrible monster, you can do it in one or two, so you start doing some simple things, such as renaming a few functions, removing some code hindrance, and generating A few constants to eliminate the magic number, etc., you know that doing this will at least not make the code worse.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_7":{"id":"678d93a01c5d_7","__typename":"Paragraph","name":"4aaa","text":"Stage 3 — Despair again","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":23,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_8":{"id":"678d93a01c5d_8","__typename":"Paragraph","name":"bca8","text":"But the next thing will make you hit the wall again. You will find that the flaws in those codes are something that is not painful. Correcting these things is totally helpless. What you should do is to rewrite everything. But you don’t have time to do this, and the code is not messy and messy, too much coupling, so that you are desperate again. So, you can only partially rewrite parts that don’t take too much time, so that at least these old code can be reused more. Although not perfect, but at least try.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_9":{"id":"678d93a01c5d_9","__typename":"Paragraph","name":"5a7f","text":"Stage 4 — Start optimism","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":24,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_10":{"id":"678d93a01c5d_10","__typename":"Paragraph","name":"3fb9","text":"After you tried to partially refactor this module for a few days, after refactoring several units, although you found that the progress of improving the code was too slow, at this point, you already know what the code should be changed to. You also locked in those modified classes after the pain. Yes, although your time budget has been overrun, although there are more things to do, you are still full of hope and feel that it is worth it. The fire in your chest was ignited again.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_11":{"id":"678d93a01c5d_11","__typename":"Paragraph","name":"2e0e","text":"Stage 5 — Quick knot","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":20,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_12":{"id":"678d93a01c5d_12","__typename":"Paragraph","name":"cee2","text":"At this time, you find that you have spent too much time, and the situation is getting more and more complicated. You feel that the situation you are facing is getting more and more uneasy, and you understand that you are already in trouble. You thought you only needed a simple refactoring, but now you have to face everything that is rewritten. You start to realize that the reason is because you are a perfectionist and you want the code to be perfect. So you start to slow down your documentation and want to find a shortcut to rewrite the old code, you start to adopt some simple and rude, fast and a bit dirty way. Although not perfect, you just did it. Then, you start running the test to do UT, and you find that the UT report is all red, almost all failed, you panic, so quickly fix the code, and then let UT work. At this point, you patted your chest and said, no problem, so I submitted the code.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_13":{"id":"678d93a01c5d_13","__typename":"Paragraph","name":"cf00","text":"Stage 6 — Modify a large number of bugs","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":39,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_14":{"id":"678d93a01c5d_14","__typename":"Paragraph","name":"5c2b","text":"Your rewrite is not perfect, although it has passed the test, but those UT tests are a little inappropriate for your new code, although they have not reported an error, but their test range is too small, not covering all situations And borders. So, after that, it will take a few weeks or more to fix more and more bugs, which makes your design and code become more and more ugly after every quick-fix. At this point, the code is not as perfect as you would expect, but you still think he is better than the beginning. This phase can take several months.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_15":{"id":"678d93a01c5d_15","__typename":"Paragraph","name":"8686","text":"Stage 7 — Awareness","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":0,"end":19,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:678d93a01c5d_16":{"id":"678d93a01c5d_16","__typename":"Paragraph","name":"bd99","text":"After 6 months, the module you rewrote has a more serious bug. This makes the module you refactored even more embarrassing. The problem you found was inconsistent with the original design. You also found that the old code that was refactored by you was not as bad as it was originally. The old code did take into account some things you have not considered. thing. At this time, someone on your team stood up and said that the module should be refactored or rewritten, but you don’t say a word, and hope that the person who stood up will be able to realize it in a few months.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:678d93a01c5d_17":{"id":"678d93a01c5d_17","__typename":"Paragraph","name":"ab27","text":"I don’t know if this is your experience. I have experienced this many times. For many maintenance projects, the mistakes I made made me a real conservative. I almost didn’t dare to move, even if I saw the code is very unpleasant. Of course, agile consultants who have never written code will say that using TDD or UT can make your refactoring more efficient and easier, because it will make them look more valuable, but I want to tell you this. It’s irresponsible to say that it’s not responsible. It’s like saying that I had some troubles when I was killing pigs because I didn’t know the physiological structure of the pig, or it was a deformed pig that caused me to kill. The pig is hard to see, and the great agile consultant told me to use a faster and more beautiful knife . Software development is never a simple matter, and killing pigs is the same.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":520,"end":778,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"ImageMetadata:0*iko2AjXV65MfAVvJ":{"id":"0*iko2AjXV65MfAVvJ","__typename":"ImageMetadata","originalHeight":333,"originalWidth":450,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:software-development":{"id":"software-development","__typename":"Tag","displayTitle":"Software Development","normalizedTagSlug":"software-development"},"Tag:refactoring":{"id":"refactoring","__typename":"Tag","displayTitle":"Refactoring","normalizedTagSlug":"refactoring"},"Tag:code":{"id":"code","__typename":"Tag","displayTitle":"Code","normalizedTagSlug":"code"},"Tag:despair":{"id":"despair","__typename":"Tag","displayTitle":"Despair","normalizedTagSlug":"despair"},"Tag:bugs":{"id":"bugs","__typename":"Tag","displayTitle":"Bugs","normalizedTagSlug":"bugs"},"PostViewerEdge:postId:bde886787fc-viewerId:lo_6bfcfb4d4d4d":{"id":"postId:bde886787fc-viewerId:lo_6bfcfb4d4d4d","__typename":"PostViewerEdge","catalogsConnection":null},"Post:bde886787fc":{"id":"bde886787fc","__typename":"Post","creator":{"__ref":"User:a7eb0e304f8a"},"canonicalUrl":"http:\u002F\u002Fwww.menameseha.com\u002Fblog\u002F2010\u002F05\u002F29","collection":null,"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\",\"sk\":null,\"source\":null}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:678d93a01c5d_0"},{"__ref":"Paragraph:678d93a01c5d_1"},{"__ref":"Paragraph:678d93a01c5d_2"},{"__ref":"Paragraph:678d93a01c5d_3"},{"__ref":"Paragraph:678d93a01c5d_4"},{"__ref":"Paragraph:678d93a01c5d_5"},{"__ref":"Paragraph:678d93a01c5d_6"},{"__ref":"Paragraph:678d93a01c5d_7"},{"__ref":"Paragraph:678d93a01c5d_8"},{"__ref":"Paragraph:678d93a01c5d_9"},{"__ref":"Paragraph:678d93a01c5d_10"},{"__ref":"Paragraph:678d93a01c5d_11"},{"__ref":"Paragraph:678d93a01c5d_12"},{"__ref":"Paragraph:678d93a01c5d_13"},{"__ref":"Paragraph:678d93a01c5d_14"},{"__ref":"Paragraph:678d93a01c5d_15"},{"__ref":"Paragraph:678d93a01c5d_16"},{"__ref":"Paragraph:678d93a01c5d_17"}],"sections":[{"__typename":"Section","name":"d54e","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":null,"firstPublishedAt":1275120025000,"isIndexable":true,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":0,"primaryTopic":null,"title":"The 7 Code Refactoring Stages","isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002F@mena.meseha\u002Fthe-7-code-refactoring-stages-bde886787fc","isLimitedState":false,"visibility":"PUBLIC","license":"ALL_RIGHTS_RESERVED","inResponseToPostResult":null,"allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:software-development"},{"__ref":"Tag:refactoring"},{"__ref":"Tag:code"},{"__ref":"Tag:despair"},{"__ref":"Tag:bugs"}],"topics":[],"isNewsletter":false,"isPublishToEmail":false,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":null,"metaDescription":"","latestPublishedAt":1536552093664,"readingTime":4.218867924528302,"previewContent":{"__typename":"PreviewContent","subtitle":"You have wanted to refactor a very old module, but you only look at it and you are disgusting. Documents, strange functions and class…"},"previewImage":{"__ref":"ImageMetadata:0*iko2AjXV65MfAVvJ"},"clapCount":31,"postResponses":{"__typename":"PostResponses","count":0},"isSuspended":false,"pendingCollection":null,"statusForCollection":null,"lockedSource":"LOCKED_POST_SOURCE_NONE","pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","inResponseToEntityType":null,"internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[]},"viewerEdge":{"__ref":"PostViewerEdge:postId:bde886787fc-viewerId:lo_6bfcfb4d4d4d"},"collaborators":[],"translationSourcePost":null,"audioVersionUrl":"","seoTitle":"","updatedAt":1536595883241,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","latestPublishedVersion":"678d93a01c5d","isAuthorNewsletter":false,"voterCount":2,"recommenders":[],"content({})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:678d93a01c5d_0"},{"__ref":"Paragraph:678d93a01c5d_1"},{"__ref":"Paragraph:678d93a01c5d_2"},{"__ref":"Paragraph:678d93a01c5d_3"},{"__ref":"Paragraph:678d93a01c5d_4"},{"__ref":"Paragraph:678d93a01c5d_5"},{"__ref":"Paragraph:678d93a01c5d_6"},{"__ref":"Paragraph:678d93a01c5d_7"},{"__ref":"Paragraph:678d93a01c5d_8"},{"__ref":"Paragraph:678d93a01c5d_9"},{"__ref":"Paragraph:678d93a01c5d_10"},{"__ref":"Paragraph:678d93a01c5d_11"},{"__ref":"Paragraph:678d93a01c5d_12"},{"__ref":"Paragraph:678d93a01c5d_13"},{"__ref":"Paragraph:678d93a01c5d_14"},{"__ref":"Paragraph:678d93a01c5d_15"},{"__ref":"Paragraph:678d93a01c5d_16"},{"__ref":"Paragraph:678d93a01c5d_17"}],"sections":[{"__typename":"Section","name":"d54e","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}}}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"MISS","shouldUseCache":true}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.9bfe157f.js"></script><script src="https://cdn-client.medium.com/lite/static/js/29713.ff444aa1.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.fcc8891b.js"></script><script src="https://cdn-client.medium.com/lite/static/js/45573.4354ed57.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.b36a3c7f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.7ffdf826.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/80685.29e1bf85.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11034.8b48db35.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11615.14b476f7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/90192.383c7600.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/79088.e4863540.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/81645.b955b7c8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/63303.da52dbf3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5850.ddb64a39.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/70832.444ac173.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/72776.e5a8863b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/50327.c2422d85.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5055.78455feb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/51073.6023b223.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/61781.8135fc03.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/37801.b8164057.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/26022.af9b2abc.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/39592.4b817af2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7790.b8ce8234.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/33673.952ffdce.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/95972.996c4300.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/92397.168bdb90.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11366.63777188.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/62182.73ab5102.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/58695.83645368.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/71794.c40ad402.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/68519.88e3477f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/35285.dc03faaf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46736.ffd87db7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/43642.d7d810bf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/65980.f24429dd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.438a51f8.chunk.js"></script><script>window.main();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/v64f9daad31f64f81be21cbef6184a5e31634941392597" integrity="sha512-gV/bogrUTVP2N3IzTDKzgP0Js1gg4fbwtYB6ftgLbKQu/V8yH2+lrKCfKHelh4SO3DPzKj4/glTO+tNJGDnb0A==" data-cf-beacon='{"rayId":"6bccd7138bd417c7","token":"0b5f665943484354a59c39c6833f7078","version":"2021.11.0","si":100}' crossorigin="anonymous"></script>
</body></html>